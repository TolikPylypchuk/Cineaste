<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Technical Stuff | Movie List</title>
<meta name="description" content="The Movie List app is written with C# and .NET 5. Following is the list of technologies used in this app and some other technical aspects.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Movie List">
<meta property="og:title" content="Technical Stuff">
<meta property="og:url" content="/v0.2/technical">


  <meta property="og:description" content="The Movie List app is written with C# and .NET 5. Following is the list of technologies used in this app and some other technical aspects.">







  <meta property="article:published_time" content="2021-01-01T16:15:47+00:00">






<link rel="canonical" href="/v0.2/technical">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Movie List Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <link rel="icon" type="image/ico" href="/favicon.ico">

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Movie List
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://github.com/TolikPylypchuk/MovieList/releases">Get the App</a>
            </li><li class="masthead__menu-item">
              <a href="https://github.com/TolikPylypchuk/MovieList">View on GitHub</a>
            </li><li class="masthead__menu-item">
              <a href="/v0.2/">v0.2 Docs</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Usage Guides</span>
        

        
        <ul>
          
            <li><a href="/v0.2/">Home Page</a></li>
          
            <li><a href="/v0.2/getting-started">Getting Started</a></li>
          
            <li><a href="/v0.2/list-files">List Files</a></li>
          
            <li><a href="/v0.2/forms">Forms</a></li>
          
            <li><a href="/v0.2/movie-form">The Movie Form</a></li>
          
            <li><a href="/v0.2/series-form">The Series Form</a></li>
          
            <li><a href="/v0.2/miniseries-form">The Miniseries Form</a></li>
          
            <li><a href="/v0.2/franchise-form">The Franchise Form</a></li>
          
            <li><a href="/v0.2/search-filter-sort">Searching, Filtering, Sorting</a></li>
          
            <li><a href="/v0.2/preferences">Preferences</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Other</span>
        

        
        <ul>
          
            <li><a href="/v0.2/version-history">Version History</a></li>
          
            <li><a href="/v0.2/technical" class="active">Technical Stuff</a></li>
          
            <li><a href="/v0.2/about">About Movie List</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Technical Stuff">
    <meta itemprop="description" content="The Movie List app is written with C# and.NET 5. Following is the list of technologies used in this app and some othertechnical aspects.">
    <meta itemprop="datePublished" content="2021-01-01T16:15:47+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Technical Stuff
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#ui">UI</a></li>
  <li><a href="#core-logic">Core Logic</a></li>
  <li><a href="#data-access">Data Access</a></li>
  <li><a href="#preferences">Preferences</a></li>
  <li><a href="#logging">Logging</a></li>
  <li><a href="#docs">Docs</a></li>
  <li><a href="#building-from-source">Building from Source</a></li>
</ul>

            </nav>
          </aside>
        
        <p>The Movie List app is written with <a href="https://github.com/dotnet/csharplang">C#</a> and
<a href="https://github.com/dotnet/runtime">.NET 5</a>. Following is the list of technologies used in this app and some other
technical aspects.</p>

<h2 id="ui">UI</h2>

<p>This app is a desktop app. I’ve contemplated writing a web app, but decided against it, partly because it’s easier,
and because it makes more sense to store lists in files on users’ machines instead of some sort of centralized database.</p>

<p>The UI is written using <a href="https://github.com/dotnet/wpf">WPF</a>, and styled with
<a href="https://material.io/design">Material Design</a> using
<a href="http://materialdesigninxaml.net/">Material Design in XAML</a> and
<a href="https://spiegelp.github.io/MaterialDesignExtensions">Material Design Extensions</a>.</p>

<p>I will switch to <a href="https://avaloniaui.net">Avalonia</a> in the future, because while WPF is powerful, Avalonia is the hot
stuff, is more active, and cross-platform. Also, it will support Fluent Design, which I think is more natural for
Windows compared to Material Design. I will probably make the app run on Linux as well, but making it run on macOS is
highly unlikely, unless someone would like to help me.</p>

<p>At the beginning of the app’s developement, I didn’t use any libraries for styling at all, thinking I will write styles
myself. That proved to be a horrible idea, and I started using <a href="https://github.com/HandyOrg/HandyControl">HandyControl</a>
and then switched to my own fork of the library (which I’ve since deleted completely, so some very old commits cannot
even be built anymore). I have since decided to completely rewrite the app, and to use Material Design for UI. You can
find this old version under the <a href="https://github.com/TolikPylypchuk/MovieList/releases/tag/old">‘old’ git tag</a>.</p>

<h2 id="core-logic">Core Logic</h2>

<p>I’m using <a href="https://www.reactiveui.net">ReactiveUI</a> as the MVVM framework for the core logic, and I must say that it’s a
real pleasure to use this framework. Also, <a href="https://github.com/reactiveui/splat">Splat</a> is used for service location.</p>

<p>In the beginning I rolled my own MVVM stuff, but it quickly became bloated and extremely unwieldy in code, and the
performance became horrible. So I’ve scrapped everyhing, and started from scratch using ReactiveUI (and changed the UI
library along the way).</p>

<h2 id="data-access">Data Access</h2>

<p>This app uses <a href="https://www.sqlite.org/index.html">SQLite</a> for data access. The .mlist files are
<a href="https://www.sqlite.org/appfileformat.html">actually SQLite databases</a> which you can open in e.g.
<a href="https://sqlitebrowser.org">DB Browser for SQLite</a> and browse like any other relational database, although looking
through data is quite inconvenient there.</p>

<p>The file make-up is quite straightforward. Just look at table definitions in DB Browser for SQLite or another app to see
their structure and relations.</p>

<p>The only table which should be elaborated on is the ‘Settings’ table. It contains key-value pairs for some general file
settings which don’t fit into other places. Currently each file contains five such key-value pairs:</p>

<ul>
  <li>List name (<code class="language-plaintext highlighter-rouge">list.name</code>)</li>
  <li>List version (<code class="language-plaintext highlighter-rouge">list.version</code>)</li>
  <li>The default season title (<code class="language-plaintext highlighter-rouge">list.season.title.default</code>)</li>
  <li>The default season original title (<code class="language-plaintext highlighter-rouge">list.season.title.default-original</code>)</li>
  <li>The language used for sorting titles (<code class="language-plaintext highlighter-rouge">list.culture</code>)</li>
  <li>The default first sorting order (<code class="language-plaintext highlighter-rouge">list.sort.order.1</code>)</li>
  <li>The default second sorting order (<code class="language-plaintext highlighter-rouge">list.sort.order.2</code>)</li>
  <li>The default first sorting direction (<code class="language-plaintext highlighter-rouge">list.sort.direction.1</code>)</li>
  <li>The default second sorting direction (<code class="language-plaintext highlighter-rouge">list.sort.direction.2</code>)</li>
</ul>

<p>The app ignores any other rows in this table and will not be able to read the file if any one of the aforementioned rows
are missing.</p>

<p>The list version is currently always set to 1 and will be incremented every time a new version of the app introduces
breaking changes to the file format. Note that the 0.x versions are pre-release versions and they will definitely
introduce breaking changes to files, but won’t increment its version. The file version will be incremented after the
app reaches version 1.0. I haven’t yet figured out what the strategy for dealing with multiple file versions will be.
All breaking changes will be documented, but if you’re using this app before version 1.0, you have to figure out how to
migrate files on your own.</p>

<h2 id="preferences">Preferences</h2>

<p>Preferences are stored in the user’s app data folder, under the ‘MovieList’ directory. Also, the cache of downloaded
posters is stored in the user’s local app data folder (also under the ‘MovieList’ directory). If you want to uninstall
this app completely, you should delete these folders manually.</p>

<p>This app uses <a href="https://github.com/reactiveui/Akavache">Akavache</a> as the engine for storing settings and cache.</p>

<h2 id="logging">Logging</h2>

<p>This app uses a plain-text log file to log the stuff it’s doing and errors it encounters along the way.
<a href="https://serilog.net">Serilog</a> is used as the logging library. The location of the log file, as well as the minimum
log level can be set in preferences, in the advanced section. The default location of the log file is in the user’s
app data folder. Here’s the list of supported log levels (from lowest to highest):</p>

<ul>
  <li>Verbose: log everything (this level is not used directly and setting it is the same as setting ‘Debug’ as the
minimum level)</li>
  <li>Debug: log the details of the app’s internal workflow</li>
  <li>Info: log general information</li>
  <li>Warning: log warnings about unwanted but manageable events</li>
  <li>Error: log errors that the app cannot fix itself</li>
  <li>Fatal: log unforeseen and unknown errors which make the app crash</li>
</ul>

<p>The default log level is Warning and you should rarely set it to a lower setting.</p>

<p>Currently, the file is never trimmed or rolled over, so if you choose a low log level, and use this app a lot, the size
of the log file may become quite big. If it does, don’t hesitate to delete it - the app certainly won’t miss it - it
won’t even notice that the file is gone. A future version will set a max size of the log file so that this doesn’t
happen.</p>

<h2 id="docs">Docs</h2>

<p>These articles are built using <a href="https://jekyllrb.com">Jekyll</a> and <a href="https://pages.github.com">GitHub Pages</a>, and use the
<a href="https://mmistakes.github.io/minimal-mistakes">Minimal Mistakes theme</a>. The first version of the docs used the
<a href="https://pmarsceill.github.io/just-the-docs">Just the Docs theme</a> but it doesn’t support multiple versions of the docs
so I moved away from it.</p>

<h2 id="building-from-source">Building from Source</h2>

<p>If you want to build your own version of this app, you simply need .NET 5. That’s it, there are no special
prerequisites.</p>

<p>Run the <code class="language-plaintext highlighter-rouge">Publish-App</code> script to create a zipped app which you can then extract to anywhere.</p>

<p>If you also want to build the docs locally, you need Jekyll.</p>

        
      </section>

      <footer class="page__meta">
        
        


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-01-01T16:15:47+00:00">January 1, 2021</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/v0.2/version-history" class="pagination--pager" title="Version History
">Previous</a>
    
    
      <a href="/v0.2/about" class="pagination--pager" title="About Movie List
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/TolikPylypchuk" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Movie List. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
